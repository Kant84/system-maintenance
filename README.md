
# üìò README ‚Äî System Maintenance

–ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ Debian / Ubuntu

---

## ‚úî –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**System Maintenance** ‚Äî —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è Linux-—Å–µ—Ä–≤–µ—Ä–∞.
–†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω–æ, –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞.

–§—É–Ω–∫—Ü–∏–∏:

* –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ CPU
* –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (–µ—Å–ª–∏ –µ—Å—Ç—å sensors)
* –∞–Ω–∞–ª–∏–∑ RAM –∏ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
* –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ—à–∏–±–æ–∫
* –ø–æ–∏—Å–∫ runaway –∏ zombie –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
* –∞–Ω–∞–ª–∏–∑ –ø–æ–ø—ã—Ç–æ–∫ –≤–∑–ª–æ–º–∞ SSH
* –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —É–ø–∞–≤—à–∏—Ö —Å–ª—É–∂–±
* –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
* –æ—á–∏—Å—Ç–∫–∞ –º—É—Å–æ—Ä–∞
* –∑–∞–ø–∏—Å—å –ª–æ–≥–∞ `/var/log/system_maintenance.log`

–°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è **–µ–∂–µ–¥–Ω–µ–≤–Ω–æ —á–µ—Ä–µ–∑ systemd-—Ç–∞–π–º–µ—Ä**.
–ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏ –≤—Ä—É—á–Ω—É—é.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîß –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

* —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
* –∑–∞–≥—Ä—É–∑–∫–∞ CPU
* RAM
* –¥–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
* –∞–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫ —è–¥—Ä–∞ –∏ systemd
* –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

* –∞–Ω–∞–ª–∏–∑ ¬´Failed password¬ª
* –≤—ã—è–≤–ª–µ–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –≤–∑–ª–æ–º–∞
* –ø–æ–¥–¥–µ—Ä–∂–∫–∞ fail2ban
* —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### ‚ö° –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏

* –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ runaway-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (>80% CPU)
* –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ + SIGKILL –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
* –∫–æ–Ω—Ç—Ä–æ–ª—å zombie-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤

### üõ† –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

* –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —É–ø–∞–≤—à–∏—Ö unit-–æ–≤ systemd
* –æ—á–∏—Å—Ç–∫–∞ –∂—É—Ä–Ω–∞–ª–æ–≤
* –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å—à–∏—Ö —Å–ª—É–∂–±

### ‚¨Ü –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ:

```bash
apt update
apt upgrade -y
apt full-upgrade -y
apt autoremove -y
apt autoclean -y
```

### üìù –õ–æ–≥–∏

* –ª–æ–≥ –¥–µ–π—Å—Ç–≤–∏–π `/var/log/system_maintenance.log`
* –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –∫–∞–∂–¥—ã–µ 48 —á–∞—Å–æ–≤

### ‚è± –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫

* systemd-—Ç–∞–π–º–µ—Ä, –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤ 00:00
* —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–∞–π–º–µ—Ä–æ–º –∏–ª–∏ –≤—Ä—É—á–Ω—É—é

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –°–∫–∞—á–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π `.deb` –ø–∞–∫–µ—Ç

```bash
wget https://github.com/Kant84/system-maintenance/releases/download/1.0.3/system-maintenance_1.0.3.deb
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:

```bash
ls -l system-maintenance_1.0.3.deb
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç

```bash
sudo dpkg -i system-maintenance_1.0.3.deb
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É

```bash
systemctl status system-maintenance.service
systemctl status system-maintenance.timer
```

–û–∂–∏–¥–∞–µ–º–æ:

* —Å–µ—Ä–≤–∏—Å: `inactive (dead)` ‚Üí —Ç–∞–∫ –∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å
* —Ç–∞–π–º–µ—Ä: `active (waiting)` ‚Üí –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## ‚ñ∂ –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ:

```bash
sudo systemctl start system-maintenance.service
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:

```bash
systemctl status system-maintenance.service
```

–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø–∏—Å–µ–π:

```bash
sudo tail -n 50 /var/log/system_maintenance.log
```

---

## üïí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∑–∞–ø—É—Å–∫

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

```bash
systemctl status system-maintenance.timer
```

–û–∂–∏–¥–∞–µ–º:

```
Active: active (waiting)
Trigger: Thu 2025-11-27 00:00:00
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ø–∞–∫–µ—Ç–∞

```
/usr/local/bin/system_maintenance.sh
/etc/systemd/system/system-maintenance.service
/etc/systemd/system/system-maintenance.timer
/var/log/system_maintenance.log (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

```
system-maintenance/
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ system_maintenance.sh
‚îú‚îÄ‚îÄ system-maintenance.service
‚îú‚îÄ‚îÄ system-maintenance.timer
‚îú‚îÄ‚îÄ deb-package/
‚îÇ   ‚îú‚îÄ‚îÄ DEBIAN/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ control
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ postinst
‚îÇ   ‚îî‚îÄ‚îÄ usr/local/bin/system_maintenance.sh
```

---

## üìò –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

1. **–ó–∞–ø–∏—Å—å "===== –ó–ê–ü–£–°–ö ====="**
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ CPU
4. RAM / Disk
5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫ —è–¥—Ä–∞
6. SSH-–∞—Ç–∞–∫–∏
7. –ü–æ–∏—Å–∫ runaway-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ —É–¥–∞–ª–µ–Ω–∏–µ
8. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
9. –û—á–∏—Å—Ç–∫–∞ –º—É—Å–æ—Ä–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
10. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ ‚Äî –∑–∞–ø–∏—Å—å –≤ –ª–æ–≥ **===== –ó–ê–í–ï–†–®–ï–ù–û =====**

---

## ‚ùó –£–¥–∞–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–∞

```bash
sudo dpkg --purge system-maintenance
```

–£–¥–∞–ª–∏—Ç—å –ª–æ–≥ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏):

```bash
sudo rm /var/log/system_maintenance.log
```

---

## ‚úî –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* Debian 12+
* Ubuntu 22.04+
* systemd
* –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
* –ø—Ä–∞–≤–∞ root

---

## ‚úî –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–∏—Å—Ç–µ–º—ã

–ü–∞–∫–µ—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞:

* Ubuntu 22.04
* Ubuntu 24.04
* Debian 12 Trixie

---

## üßë‚Äçüíª –ê–≤—Ç–æ—Ä

**Kant84** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è, DevOps, —Å–∏—Å—Ç–µ–º–Ω–æ–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ.

---

## ‚öñ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
–ü—Ä–æ–µ–∫—Ç –æ—Ç–∫—Ä—ã—Ç –¥–ª—è —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏.

---



